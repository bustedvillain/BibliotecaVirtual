(function(a,b){function c(bM,ad){function bA(k){return aM.preferFlash&&bh&&!aM.ignoreFlash&&aM.flash[k]!==b&&aM.flash[k]}function ay(k){return function(n){var m=this._s;!m||!m._a?(m&&m.id?aM._wD(m.id+": Ignoring "+n.type):aM._wD(bR+"Ignoring "+n.type),n=null):n=k.call(this,n);return n}}this.setupOptions={url:bM||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1000,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!0,noSWFCache:!1,idPrefix:"sound"};this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100};this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null};this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null};this.audioFormats={mp3:{type:['audio/mpeg; codecs\x3d"mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs\x3d"mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs\x3dvorbis"],required:!1},opus:{type:["audio/ogg; codecs\x3dopus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs\x3d"1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}};this.movieID="sm2-container";this.id=ad||"sm2movie";this.debugID="soundmanager-debug";this.debugURLParam=/([#?&])debug=1/i;this.versionNumber="V2.97a.20130512";this.altURL=this.movieURL=this.version=null;this.enabled=this.swfLoaded=!1;this.oMC=null;this.sounds={};this.soundIDs=[];this.didFlashBlock=this.muted=!1;this.filePattern=null;this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1};this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null};this.html5={usingFlash:null};this.flash={};this.ignoreFlash=this.html5Only=!1;var bw,aM=this,aS=null,aG=null,bR="HTML5::",bs,ax=navigator.userAgent,aX=a.location.href.toString(),aF=document,e,at,bJ,aE,bk=[],bv=!0,bo,aW=!1,aV=!1,aA=!1,ar=!1,be=!1,aB,bG=0,aU,bq,bN,a5,bB,a7,a3,a1,af,bg,aI,bf,aj,aJ,a0,ak,aT,l,bP,aZ,g,o,bK=["log","info","warn","error"],bp,bQ,bx,aR=null,bE=null,az,bn,aY,a2,bD,bm,bd,av,bF=!1,aN=!1,aC,ag,h,aL=0,by=null,am,a6=[],z,aw=null,bL,bS,a4,bc,bH,an,bz,au,a9=Array.prototype.slice,bl=!1,D,bh,bT,aH,bi,ai,bI,bt,j=0,aD=ax.match(/(ipad|iphone|ipod)/i),bO=ax.match(/android/i),a8=ax.match(/msie/i),br=ax.match(/webkit/i),aP=ax.match(/safari/i)&&!ax.match(/chrome/i),bu=ax.match(/opera/i),aO=ax.match(/firefox/i),aQ=ax.match(/(mobile|pre\/|xoom)/i)||aD||bO,aq=!aX.match(/usehtml5audio/i)&&!aX.match(/sm2\-ignorebadua/i)&&aP&&!ax.match(/silk/i)&&ax.match(/OS X 10_6_([3-7])/i),ah=a.console!==b&&console.log!==b,ae=aF.hasFocus!==b?aF.hasFocus():null,ap=aP&&(aF.hasFocus===b||!aF.hasFocus()),bC=!ap,bj=/(mp3|mp4|mpa|m4a|m4b)/i,i=aF.location?aF.location.protocol.match(/http/i):null,aK=!i?"http://":"",al=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,x="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),ao=RegExp("\\.("+x.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i;this.useAltURL=!i;var f;try{f=Audio!==b&&(bu&&opera!==b&&10>opera.version()?new Audio(null):new Audio).canPlayType!==b}catch(ac){f=!1}this.hasHTML5=f;this.setup=function(k){var m=!aM.url;k!==b&&(aA&&aw&&aM.ok()&&(k.flashVersion!==b||k.url!==b||k.html5Test!==b))&&bd(az("setupLate"));bN(k);k&&(m&&(aT&&k.url!==b)&&aM.beginDelayedInit(),!aT&&(k.url!==b&&"complete"===aF.readyState)&&setTimeout(a0,1));return aM};this.supported=this.ok=function(){return aw?aA&&!ar:aM.useHTML5Audio&&aM.hasHTML5};this.getMovie=function(k){return bs(k)||aF[k]||a[k]};this.createSound=function(k,q){function p(){n=bD(n);aM.sounds[n.id]=new bw(n);aM.soundIDs.push(n.id);return aM.sounds[n.id]}var m,n;m=null;m="soundManager.createSound(): "+az(!aA?"notReady":"notOK");if(!aA||!aM.ok()){return bd(m),!1}q!==b&&(k={id:k,url:q});n=bq(k);n.url=am(n.url);void 0===n.id&&(n.id=aM.setupOptions.idPrefix+j++);n.id.toString().charAt(0).match(/^[0-9]$/)&&aM._wD("soundManager.createSound(): "+az("badID",n.id),2);aM._wD("soundManager.createSound(): "+n.id+(n.url?" ("+n.url+")":""),1);if(av(n.id,!0)){return aM._wD("soundManager.createSound(): "+n.id+" exists",1),aM.sounds[n.id]}if(bS(n)){m=p(),aM._wD(n.id+": Using HTML5"),m._setup_html5(n)}else{if(aM.html5Only){return aM._wD(n.id+": No HTML5 support for this sound, and no Flash. Exiting."),p()}if(aM.html5.usingFlash&&n.url&&n.url.match(/data\:/i)){return aM._wD(n.id+": data: URIs not supported via Flash. Exiting."),p()}8<aE&&(null===n.isMovieStar&&(n.isMovieStar=!(!n.serverURL&&!(n.type&&n.type.match(al)||n.url&&n.url.match(ao)))),n.isMovieStar&&(aM._wD("soundManager.createSound(): using MovieStar handling"),1<n.loops&&aB("noNSLoop")));n=bm(n,"soundManager.createSound(): ");m=p();8===aE?aG._createSound(n.id,n.loops||1,n.usePolicyFile):(aG._createSound(n.id,n.url,n.usePeakData,n.useWaveformData,n.useEQData,n.isMovieStar,n.isMovieStar?n.bufferTime:!1,n.loops||1,n.serverURL,n.duration||null,n.autoPlay,!0,n.autoLoad,n.usePolicyFile),n.serverURL||(m.connected=!0,n.onconnect&&n.onconnect.apply(m)));!n.serverURL&&(n.autoLoad||n.autoPlay)&&m.load(n)}!n.serverURL&&n.autoPlay&&m.play();return m};this.destroySound=function(k,p){if(!av(k)){return !1}var n=aM.sounds[k],m;n._iO={};n.stop();n.unload();for(m=0;m<aM.soundIDs.length;m++){if(aM.soundIDs[m]===k){aM.soundIDs.splice(m,1);break}}p||n.destruct(!0);delete aM.sounds[k];return !0};this.load=function(k,m){return !av(k)?!1:aM.sounds[k].load(m)};this.unload=function(k){return !av(k)?!1:aM.sounds[k].unload()};this.onposition=this.onPosition=function(k,p,n,m){return !av(k)?!1:aM.sounds[k].onposition(p,n,m)};this.clearOnPosition=function(k,n,m){return !av(k)?!1:aM.sounds[k].clearOnPosition(n,m)};this.start=this.play=function(k,p){var n=null,m=p&&!(p instanceof Object);if(!aA||!aM.ok()){return bd("soundManager.play(): "+az(!aA?"notReady":"notOK")),!1}if(av(k,m)){m&&(p={url:p})}else{if(!m){return !1}m&&(p={url:p});p&&p.url&&(aM._wD('soundManager.play(): Attempting to create "'+k+'"',1),p.id=k,n=aM.createSound(p).play())}null===n&&(n=aM.sounds[k].play(p));return n};this.setPosition=function(k,m){return !av(k)?!1:aM.sounds[k].setPosition(m)};this.stop=function(k){if(!av(k)){return !1}aM._wD("soundManager.stop("+k+")",1);return aM.sounds[k].stop()};this.stopAll=function(){var k;aM._wD("soundManager.stopAll()",1);for(k in aM.sounds){aM.sounds.hasOwnProperty(k)&&aM.sounds[k].stop()}};this.pause=function(k){return !av(k)?!1:aM.sounds[k].pause()};this.pauseAll=function(){var k;for(k=aM.soundIDs.length-1;0<=k;k--){aM.sounds[aM.soundIDs[k]].pause()}};this.resume=function(k){return !av(k)?!1:aM.sounds[k].resume()};this.resumeAll=function(){var k;for(k=aM.soundIDs.length-1;0<=k;k--){aM.sounds[aM.soundIDs[k]].resume()}};this.togglePause=function(k){return !av(k)?!1:aM.sounds[k].togglePause()};this.setPan=function(k,m){return !av(k)?!1:aM.sounds[k].setPan(m)};this.setVolume=function(k,m){return !av(k)?!1:aM.sounds[k].setVolume(m)};this.mute=function(k){var m=0;k instanceof String&&(k=null);if(k){if(!av(k)){return !1}aM._wD('soundManager.mute(): Muting "'+k+'"');return aM.sounds[k].mute()}aM._wD("soundManager.mute(): Muting all sounds");for(m=aM.soundIDs.length-1;0<=m;m--){aM.sounds[aM.soundIDs[m]].mute()}return aM.muted=!0};this.muteAll=function(){aM.mute()};this.unmute=function(k){k instanceof String&&(k=null);if(k){if(!av(k)){return !1}aM._wD('soundManager.unmute(): Unmuting "'+k+'"');return aM.sounds[k].unmute()}aM._wD("soundManager.unmute(): Unmuting all sounds");for(k=aM.soundIDs.length-1;0<=k;k--){aM.sounds[aM.soundIDs[k]].unmute()}aM.muted=!1;return !0};this.unmuteAll=function(){aM.unmute()};this.toggleMute=function(k){return !av(k)?!1:aM.sounds[k].toggleMute()};this.getMemoryUse=function(){var k=0;aG&&8!==aE&&(k=parseInt(aG._getMemoryUse(),10));return k};this.disable=function(k){var m;k===b&&(k=!1);if(ar){return !1}ar=!0;aB("shutdown",1);for(m=aM.soundIDs.length-1;0<=m;m--){bp(aM.sounds[aM.soundIDs[m]])}aU(k);au.remove(a,"load",a3);return !0};this.canPlayMIME=function(k){var m;aM.hasHTML5&&(m=a4({type:k}));!m&&aw&&(m=k&&aM.ok()?!!(8<aE&&k.match(al)||k.match(aM.mimePattern)):null);return m};this.canPlayURL=function(k){var m;aM.hasHTML5&&(m=a4({url:k}));!m&&aw&&(m=k&&aM.ok()?!!k.match(aM.filePattern):null);return m};this.canPlayLink=function(k){return k.type!==b&&k.type&&aM.canPlayMIME(k.type)?!0:aM.canPlayURL(k.href)};this.getSoundById=function(k,n){if(!k){return null}var m=aM.sounds[k];!m&&!n&&aM._wD('soundManager.getSoundById(): Sound "'+k+'" not found.',2);return m};this.onready=function(k,m){if("function"===typeof k){aA&&aM._wD(az("queue","onready")),m||(m=a),bB("onready",k,m),a7()}else{throw az("needFunction","onready")}return !0};this.ontimeout=function(k,m){if("function"===typeof k){aA&&aM._wD(az("queue","ontimeout")),m||(m=a),bB("ontimeout",k,m),a7({type:"ontimeout"})}else{throw az("needFunction","ontimeout")}return !0};this._writeDebug=function(k,p){var n,m;if(!aM.debugMode){return !1}if(ah&&aM.useConsole){if(p&&"object"===typeof p){console.log(k,p)}else{if(bK[p]!==b){console[bK[p]](k)}else{console.log(k)}}if(aM.consoleOnly){return !0}}n=bs("soundmanager-debug");if(!n){return !1}m=aF.createElement("div");0===++bG%2&&(m.className="sm2-alt");p=p===b?0:parseInt(p,10);m.appendChild(aF.createTextNode(k));p&&(2<=p&&(m.style.fontWeight="bold"),3===p&&(m.style.color="#ff3333"));n.insertBefore(m,n.firstChild);return !0};-1!==aX.indexOf("sm2-debug\x3dalert")&&(this._writeDebug=function(k){a.alert(k)});this._wD=this._writeDebug;this._debug=function(){var k,m;aB("currentObj",1);k=0;for(m=aM.soundIDs.length;k<m;k++){aM.sounds[aM.soundIDs[k]]._debug()}};this.reboot=function(k,r){aM.soundIDs.length&&aM._wD("Destroying "+aM.soundIDs.length+" SMSound object"+(1!==aM.soundIDs.length?"s":"")+"...");var q,m,p;for(q=aM.soundIDs.length-1;0<=q;q--){aM.sounds[aM.soundIDs[q]].destruct()}if(aG){try{a8&&(bE=aG.innerHTML),aR=aG.parentNode.removeChild(aG)}catch(n){aB("badRemove",2)}}bE=aR=aw=aG=null;aM.enabled=aT=aA=bF=aN=aW=aV=ar=bl=aM.swfLoaded=!1;aM.soundIDs=[];aM.sounds={};j=0;if(k){bk=[]}else{for(q in bk){if(bk.hasOwnProperty(q)){m=0;for(p=bk[q].length;m<p;m++){bk[q][m].fired=!1}}}}r||aM._wD("soundManager: Rebooting...");aM.html5={usingFlash:null};aM.flash={};aM.html5Only=!1;aM.ignoreFlash=!1;a.setTimeout(function(){aJ();r||aM.beginDelayedInit()},20);return aM};this.reset=function(){aB("reset");return aM.reboot(!0,!0)};this.getMoviePercent=function(){return aG&&"PercentLoaded" in aG?aG.PercentLoaded():null};this.beginDelayedInit=function(){be=!0;a0();setTimeout(function(){if(aN){return !1}bP();aj();return aN=!0},20);a1()};this.destruct=function(){aM._wD("soundManager.destruct()");aM.disable(!0)};bw=function(I){var F,E,J=this,C,w,G,v,r,n,M=!1,k=[],L=0,B,H,K=null,p;E=F=null;this.sID=this.id=I.id;this.url=I.url;this._iO=this.instanceOptions=this.options=bq(I);this.pan=this.options.pan;this.volume=this.options.volume;this.isHTML5=!1;this._a=null;p=this.url?!1:!0;this.id3={};this._debug=function(){aM._wD(J.id+": Merged options:",J.options)};this.load=function(m){var t=null,s;m!==b?J._iO=bq(m,J.options):(m=J.options,J._iO=m,K&&K!==J.url&&(aB("manURL"),J._iO.url=J.url,J.url=null));J._iO.url||(J._iO.url=J.url);J._iO.url=am(J._iO.url);s=J.instanceOptions=J._iO;aM._wD(J.id+": load ("+s.url+")");if(!s.url&&!J.url){return aM._wD(J.id+": load(): url is unassigned. Exiting.",2),J}!J.isHTML5&&(8===aE&&!J.url&&!s.autoPlay)&&aM._wD(J.id+": Flash 8 load() limitation: Wait for onload() before calling play().",1);if(s.url===J.url&&0!==J.readyState&&2!==J.readyState){return aB("onURL",1),3===J.readyState&&s.onload&&bt(J,function(){s.onload.apply(J,[!!J.duration])}),J}J.loaded=!1;J.readyState=1;J.playState=0;J.id3={};if(bS(s)){t=J._setup_html5(s),t._called_load?aM._wD(J.id+": Ignoring request to load again"):(J._html5_canplay=!1,J.url!==s.url&&(aM._wD(aB("manURL")+": "+s.url),J._a.src=s.url,J.setPosition(0)),J._a.autobuffer="auto",J._a.preload="auto",J._a._called_load=!0,s.autoPlay&&J.play())}else{if(aM.html5Only){return aM._wD(J.id+": No flash support. Exiting."),J}if(J._iO.url&&J._iO.url.match(/data\:/i)){return aM._wD(J.id+": data: URIs not supported via Flash. Exiting."),J}try{J.isHTML5=!1,J._iO=bm(bD(s)),s=J._iO,8===aE?aG._load(J.id,s.url,s.stream,s.autoPlay,s.usePolicyFile):aG._load(J.id,s.url,!!s.stream,!!s.autoPlay,s.loops||1,!!s.autoLoad,s.usePolicyFile)}catch(q){aB("smError",2),bo("onload",!1),aZ({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}J.url=s.url;return J};this.unload=function(){0!==J.readyState&&(aM._wD(J.id+": unload()"),J.isHTML5?(v(),J._a&&(J._a.pause(),K=bH(J._a))):8===aE?aG._unload(J.id,"about:blank"):aG._unload(J.id),C());return J};this.destruct=function(m){aM._wD(J.id+": Destruct");J.isHTML5?(v(),J._a&&(J._a.pause(),bH(J._a),bl||G(),J._a._s=null,J._a=null)):(J._iO.onfailure=null,aG._destroySound(J.id));m||aM.destroySound(J.id,!0)};this.start=this.play=function(q,N){var y,u,s,A,t,m=!0,m=null;y=J.id+": play(): ";N=N===b?!0:N;q||(q={});J.url&&(J._iO.url=J.url);J._iO=bq(J._iO,J.options);J._iO=bq(q,J._iO);J._iO.url=am(J._iO.url);J.instanceOptions=J._iO;if(!J.isHTML5&&J._iO.serverURL&&!J.connected){return J.getAutoPlay()||(aM._wD(y+" Netstream not connected yet - setting autoPlay"),J.setAutoPlay(!0)),J}bS(J._iO)&&(J._setup_html5(J._iO),r());1===J.playState&&!J.paused&&((u=J._iO.multiShot)?aM._wD(y+"Already playing (multi-shot)",1):(aM._wD(y+"Already playing (one-shot)",1),J.isHTML5&&J.setPosition(J._iO.position),m=J));if(null!==m){return m}q.url&&q.url!==J.url&&(!J.readyState&&!J.isHTML5&&8===aE&&p?p=!1:J.load(J._iO));J.loaded?aM._wD(y.substr(0,y.lastIndexOf(":"))):0===J.readyState?(aM._wD(y+"Attempting to load"),!J.isHTML5&&!aM.html5Only?(J._iO.autoPlay=!0,J.load(J._iO)):J.isHTML5?J.load(J._iO):(aM._wD(y+"Unsupported type. Exiting."),m=J),J.instanceOptions=J._iO):2===J.readyState?(aM._wD(y+"Could not load - exiting",2),m=J):aM._wD(y+"Loading - attempting to play...");if(null!==m){return m}!J.isHTML5&&(9===aE&&0<J.position&&J.position===J.duration)&&(aM._wD(y+"Sound at end, resetting to position:0"),q.position=0);if(J.paused&&0<=J.position&&(!J._iO.serverURL||0<J.position)){aM._wD(y+"Resuming from paused state",1),J.resume()}else{J._iO=bq(q,J._iO);if(null!==J._iO.from&&null!==J._iO.to&&0===J.instanceCount&&0===J.playState&&!J._iO.serverURL){u=function(){J._iO=bq(q,J._iO);J.play(J._iO)};if(J.isHTML5&&!J._html5_canplay){aM._wD(y+"Beginning load for from/to case"),J.load({oncanplay:u}),m=!1}else{if(!J.isHTML5&&!J.loaded&&(!J.readyState||2!==J.readyState)){aM._wD(y+"Preloading for from/to case"),J.load({onload:u}),m=!1}}if(null!==m){return m}J._iO=H()}(!J.instanceCount||J._iO.multiShotEvents||J.isHTML5&&J._iO.multiShot&&!bl||!J.isHTML5&&8<aE&&!J.getAutoPlay())&&J.instanceCount++;J._iO.onposition&&0===J.playState&&n(J);J.playState=1;J.paused=!1;J.position=J._iO.position!==b&&!isNaN(J._iO.position)?J._iO.position:0;J.isHTML5||(J._iO=bm(bD(J._iO)));J._iO.onplay&&N&&(J._iO.onplay.apply(J),M=!0);J.setVolume(J._iO.volume,!0);J.setPan(J._iO.pan,!0);J.isHTML5?2>J.instanceCount?(r(),y=J._setup_html5(),J.setPosition(J._iO.position),y.play()):(aM._wD(J.id+": Cloning Audio() for instance #"+J.instanceCount+"..."),s=new Audio(J._iO.url),A=function(){au.remove(s,"onended",A);J._onfinish(J);bH(s);s=null},t=function(){au.remove(s,"canplay",t);try{s.currentTime=J._iO.position/1000}catch(O){bd(J.id+": multiShot play() failed to apply position of "+J._iO.position/1000)}s.play()},au.add(s,"ended",A),J._iO.position?au.add(s,"canplay",t):s.play()):(m=aG._start(J.id,J._iO.loops||1,9===aE?J.position:J.position/1000,J._iO.multiShot||!1),9===aE&&!m&&(aM._wD(y+"No sound hardware, or 32-sound ceiling hit",2),J._iO.onplayerror&&J._iO.onplayerror.apply(J)))}return J};this.stop=function(m){var q=J._iO;1===J.playState&&(aM._wD(J.id+": stop()"),J._onbufferchange(0),J._resetOnPosition(0),J.paused=!1,J.isHTML5||(J.playState=0),B(),q.to&&J.clearOnPosition(q.to),J.isHTML5?J._a&&(m=J.position,J.setPosition(0),J.position=m,J._a.pause(),J.playState=0,J._onTimer(),v()):(aG._stop(J.id,m),q.serverURL&&J.unload()),J.instanceCount=0,J._iO={},q.onstop&&q.onstop.apply(J));return J};this.setAutoPlay=function(m){aM._wD(J.id+": Autoplay turned "+(m?"on":"off"));J._iO.autoPlay=m;J.isHTML5||(aG._setAutoPlay(J.id,m),m&&(!J.instanceCount&&1===J.readyState)&&(J.instanceCount++,aM._wD(J.id+": Incremented instance count to "+J.instanceCount)))};this.getAutoPlay=function(){return J._iO.autoPlay};this.setPosition=function(m){m===b&&(m=0);var s=J.isHTML5?Math.max(m,0):Math.min(J.duration||J._iO.duration,Math.max(m,0));J.position=s;m=J.position/1000;J._resetOnPosition(J.position);J._iO.position=s;if(J.isHTML5){if(J._a){if(J._html5_canplay){if(J._a.currentTime!==m){aM._wD(J.id+": setPosition("+m+")");try{J._a.currentTime=m,(0===J.playState||J.paused)&&J._a.pause()}catch(q){aM._wD(J.id+": setPosition("+m+") failed: "+q.message,2)}}}else{if(m){return aM._wD(J.id+": setPosition("+m+"): Cannot seek yet, sound not ready",2),J}}J.paused&&J._onTimer(!0)}}else{m=9===aE?J.position:m,J.readyState&&2!==J.readyState&&aG._setPosition(J.id,m,J.paused||!J.playState,J._iO.multiShot)}return J};this.pause=function(m){if(J.paused||0===J.playState&&1!==J.readyState){return J}aM._wD(J.id+": pause()");J.paused=!0;J.isHTML5?(J._setup_html5().pause(),v()):(m||m===b)&&aG._pause(J.id,J._iO.multiShot);J._iO.onpause&&J._iO.onpause.apply(J);return J};this.resume=function(){var m=J._iO;if(!J.paused){return J}aM._wD(J.id+": resume()");J.paused=!1;J.playState=1;J.isHTML5?(J._setup_html5().play(),r()):(m.isMovieStar&&!m.serverURL&&J.setPosition(J.position),aG._pause(J.id,m.multiShot));!M&&m.onplay?(m.onplay.apply(J),M=!0):m.onresume&&m.onresume.apply(J);return J};this.togglePause=function(){aM._wD(J.id+": togglePause()");if(0===J.playState){return J.play({position:9===aE&&!J.isHTML5?J.position:J.position/1000}),J}J.paused?J.resume():J.pause();return J};this.setPan=function(m,q){m===b&&(m=0);q===b&&(q=!1);J.isHTML5||aG._setPan(J.id,m);J._iO.pan=m;q||(J.pan=m,J.options.pan=m);return J};this.setVolume=function(m,q){m===b&&(m=100);q===b&&(q=!1);J.isHTML5?J._a&&(J._a.volume=Math.max(0,Math.min(1,m/100))):aG._setVolume(J.id,aM.muted&&!J.muted||J.muted?0:m);J._iO.volume=m;q||(J.volume=m,J.options.volume=m);return J};this.mute=function(){J.muted=!0;J.isHTML5?J._a&&(J._a.muted=!0):aG._setVolume(J.id,0);return J};this.unmute=function(){J.muted=!1;var m=J._iO.volume!==b;J.isHTML5?J._a&&(J._a.muted=!1):aG._setVolume(J.id,m?J._iO.volume:J.options.volume);return J};this.toggleMute=function(){return J.muted?J.unmute():J.mute()};this.onposition=this.onPosition=function(m,s,q){k.push({position:parseInt(m,10),method:s,scope:q!==b?q:J,fired:!1});return J};this.clearOnPosition=function(q,m){var s;q=parseInt(q,10);if(isNaN(q)){return !1}for(s=0;s<k.length;s++){if(q===k[s].position&&(!m||m===k[s].method)){k[s].fired&&L--,k.splice(s,1)}}};this._processOnPosition=function(){var m,q;m=k.length;if(!m||!J.playState||L>=m){return !1}for(m-=1;0<=m;m--){q=k[m],!q.fired&&J.position>=q.position&&(q.fired=!0,L++,q.method.apply(q.scope,[q.position]))}return !0};this._resetOnPosition=function(q){var m,s;m=k.length;if(!m){return !1}for(m-=1;0<=m;m--){s=k[m],s.fired&&q<=s.position&&(s.fired=!1,L--)}return !0};H=function(){var m=J._iO,u=m.from,t=m.to,s,q;q=function(){aM._wD(J.id+': "To" time of '+t+" reached.");J.clearOnPosition(t,q);J.stop()};s=function(){aM._wD(J.id+': Playing "from" '+u);if(null!==t&&!isNaN(t)){J.onPosition(t,q)}};null!==u&&!isNaN(u)&&(m.position=u,m.multiShot=!1,s());return m};n=function(){var m,q=J._iO.onposition;if(q){for(m in q){if(q.hasOwnProperty(m)){J.onPosition(parseInt(m,10),q[m])}}}};B=function(){var m,q=J._iO.onposition;if(q){for(m in q){q.hasOwnProperty(m)&&J.clearOnPosition(parseInt(m,10))}}};r=function(){J.isHTML5&&aC(J)};v=function(){J.isHTML5&&ag(J)};C=function(m){m||(k=[],L=0);M=!1;J._hasTimer=null;J._a=null;J._html5_canplay=!1;J.bytesLoaded=null;J.bytesTotal=null;J.duration=J._iO&&J._iO.duration?J._iO.duration:null;J.durationEstimate=null;J.buffered=[];J.eqData=[];J.eqData.left=[];J.eqData.right=[];J.failures=0;J.isBuffering=!1;J.instanceOptions={};J.instanceCount=0;J.loaded=!1;J.metadata={};J.readyState=0;J.muted=!1;J.paused=!1;J.peakData={left:0,right:0};J.waveformData={left:[],right:[]};J.playState=0;J.position=null;J.id3={}};C();this._onTimer=function(m){var t,s=!1,q={};if(J._hasTimer||m){if(J._a&&(m||(0<J.playState||1===J.readyState)&&!J.paused)){t=J._get_html5_duration(),t!==F&&(F=t,J.duration=t,s=!0),J.durationEstimate=J.duration,t=1000*J._a.currentTime||0,t!==E&&(E=t,s=!0),(s||m)&&J._whileplaying(t,q,q,q,q)}return s}};this._get_html5_duration=function(){var m=J._iO;return(m=J._a&&J._a.duration?1000*J._a.duration:m&&m.duration?m.duration:null)&&!isNaN(m)&&Infinity!==m?m:null};this._apply_loop=function(q,m){!q.loop&&1<m&&aM._wD("Note: Native HTML5 looping is infinite.",1);q.loop=1<m?"loop":""};this._setup_html5=function(m){m=bq(J._iO,m);var t=bl?aS:J._a,s=decodeURI(m.url),q;bl?s===decodeURI(D)&&(q=!0):s===decodeURI(K)&&(q=!0);if(t){if(t._s){if(bl){t._s&&(t._s.playState&&!q)&&t._s.stop()}else{if(!bl&&s===decodeURI(K)){return J._apply_loop(t,m.loops),t}}}q||(C(!1),t.src=m.url,D=K=J.url=m.url,t._called_load=!1)}else{J._a=m.autoLoad||m.autoPlay?new Audio(m.url):bu&&10>opera.version()?new Audio(null):new Audio,t=J._a,t._called_load=!1,bl&&(aS=t)}J.isHTML5=!0;J._a=t;t._s=J;w();J._apply_loop(t,m.loops);m.autoLoad||m.autoPlay?J.load():(t.autobuffer=!1,t.preload="auto");return t};w=function(){if(J._a._added_events){return !1}var m;J._a._added_events=!0;for(m in bi){bi.hasOwnProperty(m)&&J._a&&J._a.addEventListener(m,bi[m],!1)}return !0};G=function(){var m;aM._wD(J.id+": Removing event listeners");J._a._added_events=!1;for(m in bi){bi.hasOwnProperty(m)&&J._a&&J._a.removeEventListener(m,bi[m],!1)}};this._onload=function(m){var q=!!m||!J.isHTML5&&8===aE&&J.duration;m=J.id+": ";aM._wD(m+(q?"onload()":"Failed to load / invalid sound?"+(!J.duration?" Zero-length duration reported.":" -")+" ("+J.url+")"),q?1:2);!q&&!J.isHTML5&&(!0===aM.sandbox.noRemote&&aM._wD(m+az("noNet"),1),!0===aM.sandbox.noLocal&&aM._wD(m+az("noLocal"),1));J.loaded=q;J.readyState=q?3:2;J._onbufferchange(0);J._iO.onload&&bt(J,function(){J._iO.onload.apply(J,[q])});return !0};this._onbufferchange=function(m){if(0===J.playState||m&&J.isBuffering||!m&&!J.isBuffering){return !1}J.isBuffering=1===m;J._iO.onbufferchange&&(aM._wD(J.id+": Buffer state change: "+m),J._iO.onbufferchange.apply(J));return !0};this._onsuspend=function(){J._iO.onsuspend&&(aM._wD(J.id+": Playback suspended"),J._iO.onsuspend.apply(J));return !0};this._onfailure=function(m,s,q){J.failures++;aM._wD(J.id+": Failures \x3d "+J.failures);if(J._iO.onfailure&&1===J.failures){J._iO.onfailure(J,m,s,q)}else{aM._wD(J.id+": Ignoring failure")}};this._onfinish=function(){var m=J._iO.onfinish;J._onbufferchange(0);J._resetOnPosition(0);if(J.instanceCount&&(J.instanceCount--,J.instanceCount||(B(),J.playState=0,J.paused=!1,J.instanceCount=0,J.instanceOptions={},J._iO={},v(),J.isHTML5&&(J.position=0)),(!J.instanceCount||J._iO.multiShotEvents)&&m)){aM._wD(J.id+": onfinish()"),bt(J,function(){m.apply(J)})}};this._whileloading=function(m,u,t,s){var q=J._iO;J.bytesLoaded=m;J.bytesTotal=u;J.duration=Math.floor(t);J.bufferLength=s;J.durationEstimate=!J.isHTML5&&!q.isMovieStar?q.duration?J.duration>q.duration?J.duration:q.duration:parseInt(J.bytesTotal/J.bytesLoaded*J.duration,10):J.duration;J.isHTML5||(J.buffered=[{start:0,end:J.duration}]);(3!==J.readyState||J.isHTML5)&&q.whileloading&&q.whileloading.apply(J)};this._whileplaying=function(m,y,u,t,s){var q=J._iO;if(isNaN(m)||null===m){return !1}J.position=Math.max(0,m);J._processOnPosition();!J.isHTML5&&8<aE&&(q.usePeakData&&(y!==b&&y)&&(J.peakData={left:y.leftPeak,right:y.rightPeak}),q.useWaveformData&&(u!==b&&u)&&(J.waveformData={left:u.split(","),right:t.split(",")}),q.useEQData&&(s!==b&&s&&s.leftEQ)&&(m=s.leftEQ.split(","),J.eqData=m,J.eqData.left=m,s.rightEQ!==b&&s.rightEQ&&(J.eqData.right=s.rightEQ.split(","))));1===J.playState&&(!J.isHTML5&&(8===aE&&!J.position&&J.isBuffering)&&J._onbufferchange(0),q.whileplaying&&q.whileplaying.apply(J));return !0};this._oncaptiondata=function(m){aM._wD(J.id+": Caption data received.");J.captiondata=m;J._iO.oncaptiondata&&J._iO.oncaptiondata.apply(J,[m])};this._onmetadata=function(m,u){aM._wD(J.id+": Metadata received.");var t={},s,q;s=0;for(q=m.length;s<q;s++){t[m[s]]=u[s]}J.metadata=t;J._iO.onmetadata&&J._iO.onmetadata.apply(J)};this._onid3=function(m,u){aM._wD(J.id+": ID3 data received.");var t=[],s,q;s=0;for(q=m.length;s<q;s++){t[m[s]]=u[s]}J.id3=bq(J.id3,t);J._iO.onid3&&J._iO.onid3.apply(J)};this._onconnect=function(m){m=1===m;aM._wD(J.id+": "+(m?"Connected.":"Failed to connect? - "+J.url),m?1:2);if(J.connected=m){J.failures=0,av(J.id)&&(J.getAutoPlay()?J.play(b,J.getAutoPlay()):J._iO.autoLoad&&J.load()),J._iO.onconnect&&J._iO.onconnect.apply(J,[m])}};this._ondataerror=function(m){0<J.playState&&(aM._wD(J.id+": Data error: "+m),J._iO.ondataerror&&J._iO.ondataerror.apply(J))};this._debug()};l=function(){return aF.body||aF._docElement||aF.getElementsByTagName("div")[0]};bs=function(k){return aF.getElementById(k)};bq=function(k,q){var p=k||{},m,n;m=q===b?aM.defaultOptions:q;for(n in m){m.hasOwnProperty(n)&&p[n]===b&&(p[n]="object"!==typeof m[n]||null===m[n]?m[n]:bq(p[n],m[n]))}return p};bt=function(k,m){!k.isHTML5&&8===aE?a.setTimeout(m,0):m()};a5={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1};bN=function(m,r){var q,n=!0,p=r!==b,k=aM.setupOptions;if(m===b){n=[];for(q in k){k.hasOwnProperty(q)&&n.push(q)}for(q in a5){a5.hasOwnProperty(q)&&("object"===typeof aM[q]?n.push(q+": {...}"):aM[q] instanceof Function?n.push(q+": function() {...}"):n.push(q))}aM._wD(az("setup",n.join(", ")));return !1}for(q in m){if(m.hasOwnProperty(q)){if("object"!==typeof m[q]||null===m[q]||m[q] instanceof Array||m[q] instanceof RegExp){p&&a5[r]!==b?aM[r][q]=m[q]:k[q]!==b?(aM.setupOptions[q]=m[q],aM[q]=m[q]):a5[q]===b?(bd(az(aM[q]===b?"setupUndef":"setupError",q),2),n=!1):aM[q] instanceof Function?aM[q].apply(aM,m[q] instanceof Array?m[q]:[m[q]]):aM[q]=m[q]}else{if(a5[q]===b){bd(az(aM[q]===b?"setupUndef":"setupError",q),2),n=!1}else{return bN(m[q],q)}}}}return n};au=function(){function k(r){r=a9.call(r);var q=r.length;n?(r[1]="on"+r[1],3<q&&r.pop()):3===q&&r.push(!1);return r}function p(q,t){var s=q.shift(),r=[m[t]];if(n){s[r](q[0],q[1])}else{s[r].apply(s,q)}}var n=a.attachEvent,m={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){p(k(arguments),"add")},remove:function(){p(k(arguments),"remove")}}}();bi={abort:ay(function(){aM._wD(this._s.id+": abort")}),canplay:ay(function(){var k=this._s,n;if(k._html5_canplay){return !0}k._html5_canplay=!0;aM._wD(k.id+": canplay");k._onbufferchange(0);n=k._iO.position!==b&&!isNaN(k._iO.position)?k._iO.position/1000:null;if(k.position&&this.currentTime!==n){aM._wD(k.id+": canplay: Setting position to "+n);try{this.currentTime=n}catch(m){aM._wD(k.id+": canplay: Setting position of "+n+" failed: "+m.message,2)}}k._iO._oncanplay&&k._iO._oncanplay()}),canplaythrough:ay(function(){var k=this._s;k.loaded||(k._onbufferchange(0),k._whileloading(k.bytesLoaded,k.bytesTotal,k._get_html5_duration()),k._onload(!0))}),ended:ay(function(){var k=this._s;aM._wD(k.id+": ended");k._onfinish()}),error:ay(function(){aM._wD(this._s.id+": HTML5 error, code "+this.error.code);this._s._onload(!1)}),loadeddata:ay(function(){var k=this._s;aM._wD(k.id+": loadeddata");!k._loaded&&!aP&&(k.duration=k._get_html5_duration())}),loadedmetadata:ay(function(){aM._wD(this._s.id+": loadedmetadata")}),loadstart:ay(function(){aM._wD(this._s.id+": loadstart");this._s._onbufferchange(1)}),play:ay(function(){this._s._onbufferchange(0)}),playing:ay(function(){aM._wD(this._s.id+": playing");this._s._onbufferchange(0)}),progress:ay(function(t){var r=this._s,q,u,p;q=0;var n="progress"===t.type,s=t.target.buffered,k=t.loaded||0,m=t.total||1;r.buffered=[];if(s&&s.length){q=0;for(u=s.length;q<u;q++){r.buffered.push({start:1000*s.start(q),end:1000*s.end(q)})}q=1000*(s.end(0)-s.start(0));k=Math.min(1,q/(1000*t.target.duration));if(n&&1<s.length){p=[];u=s.length;for(q=0;q<u;q++){p.push(1000*t.target.buffered.start(q)+"-"+1000*t.target.buffered.end(q))}aM._wD(this._s.id+": progress, timeRanges: "+p.join(", "))}n&&!isNaN(k)&&aM._wD(this._s.id+": progress, "+Math.floor(100*k)+"% loaded")}isNaN(k)||(r._onbufferchange(0),r._whileloading(k,m,r._get_html5_duration()),k&&(m&&k===m)&&bi.canplaythrough.call(this,t))}),ratechange:ay(function(){aM._wD(this._s.id+": ratechange")}),suspend:ay(function(k){var m=this._s;aM._wD(this._s.id+": suspend");bi.progress.call(this,k);m._onsuspend()}),stalled:ay(function(){aM._wD(this._s.id+": stalled")}),timeupdate:ay(function(){this._s._onTimer()}),waiting:ay(function(){var k=this._s;aM._wD(this._s.id+": waiting");k._onbufferchange(1)})};bS=function(k){return !k||!k.type&&!k.url&&!k.serverURL?!1:k.serverURL||k.type&&bA(k.type)?!1:k.type?a4({type:k.type}):a4({url:k.url})||aM.html5Only||k.url.match(/data\:/i)};bH=function(k){var m;k&&(m=aP&&!aD?null:aO?"about:blank":null,k.src=m,void 0!==k._called_unload&&(k._called_load=!1));bl&&(D=null);return m};a4=function(k){if(!aM.useHTML5Audio||!aM.hasHTML5){return !1}var p=k.url||null;k=k.type||null;var n=aM.audioFormats,m;if(k&&aM.html5[k]!==b){return aM.html5[k]&&!bA(k)}if(!bc){bc=[];for(m in n){n.hasOwnProperty(m)&&(bc.push(m),n[m].related&&(bc=bc.concat(n[m].related)))}bc=RegExp("\\.("+bc.join("|")+")(\\?.*)?$","i")}m=p?p.toLowerCase().match(bc):null;!m||!m.length?k&&(p=k.indexOf(";"),m=(-1!==p?k.substr(0,p):k).substr(6)):m=m[1];m&&aM.html5[m]!==b?p=aM.html5[m]&&!bA(m):(k="audio/"+m,p=aM.html5.canPlayType({type:k}),p=(aM.html5[m]=p)&&aM.html5[k]&&!bA(k));return p};bz=function(){function k(t){var s,v,u=s=!1;if(!r||"function"!==typeof r.canPlayType){return s}if(t instanceof Array){s=0;for(v=t.length;s<v;s++){if(aM.html5[t[s]]||r.canPlayType(t[s]).match(aM.html5Test)){u=!0,aM.html5[t[s]]=!0,aM.flash[t[s]]=!!t[s].match(bj)}}s=u}else{t=r&&"function"===typeof r.canPlayType?r.canPlayType(t):!1,s=!(!t||!t.match(aM.html5Test))}return s}if(!aM.useHTML5Audio||!aM.hasHTML5){return aw=aM.html5.usingFlash=!0,!1}var r=Audio!==b?bu&&10>opera.version()?new Audio(null):new Audio:null,q,m,p={},n;n=aM.audioFormats;for(q in n){if(n.hasOwnProperty(q)&&(m="audio/"+q,p[q]=k(n[q].type),p[m]=p[q],q.match(bj)?(aM.flash[q]=!0,aM.flash[m]=!0):(aM.flash[q]=!1,aM.flash[m]=!1),n[q]&&n[q].related)){for(m=n[q].related.length-1;0<=m;m--){p["audio/"+n[q].related[m]]=p[q],aM.html5[n[q].related[m]]=p[q],aM.flash[n[q].related[m]]=p[q]}}}p.canPlayType=r?k:null;aM.html5=bq(aM.html5,p);aM.html5.usingFlash=bL();aw=aM.html5.usingFlash;return !0};bf={notReady:"Unavailable - wait until onready() has fired.",notOK:"Audio support is not available.",domError:"soundManagerexception caught while appending SWF to DOM.",spcWmode:"Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash \x3d true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+aF.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for SWF to load with window focus...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",waitSWF:"soundManager: Waiting for 100% SWF load...",needFunction:"soundManager: Function object expected for %s",badID:'Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"soundManager: _debug(): Current sound objects",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager: initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",didInit:"soundManager: init(): Already called?",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"soundManager: Failed to remove Flash node.",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying .swf_timedout CSS...",fbLoaded:"Flash loaded",fbHandler:"soundManager: flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout \x3d 0 (infinite) for off-screen, mobile flash case",needFlash:"soundManager: Fatal error: Flash is needed to play some required formats, but is not available.",gotFocus:"soundManager: Got window focus.",policy:"Enabling usePolicyFile for data access",setup:"soundManager.setup(): allowed parameters: %s",setupError:'soundManager.setup(): "%s" cannot be assigned with this method.',setupUndef:'soundManager.setup(): Could not find option "%s"',setupLate:"soundManager.setup(): url, flashVersion and html5Test property changes will not take effect until reboot().",noURL:"soundManager: Flash URL required. Call soundManager.setup({url:...}) to get started.",sm2Loaded:"SoundManager 2: Ready.",reset:"soundManager.reset(): Removing event callbacks",mobileUA:"Mobile UA detected, preferring HTML5 by default.",globalHTML5:"Using singleton HTML5 Audio() pattern for this device."};az=function(){var k=a9.call(arguments),p=k.shift(),p=bf&&bf[p]?bf[p]:"",n,m;if(p&&k&&k.length){n=0;for(m=k.length;n<m;n++){p=p.replace("%s",k[n])}}return p};bD=function(k){8===aE&&(1<k.loops&&k.stream)&&(aB("as2loop"),k.stream=!1);return k};bm=function(k,m){if(k&&!k.usePolicyFile&&(k.onid3||k.usePeakData||k.useWaveformData||k.useEQData)){aM._wD((m||"")+az("policy")),k.usePolicyFile=!0}return k};bd=function(k){ah&&console.warn!==b?console.warn(k):aM._wD(k)};e=function(){return !1};bp=function(k){for(var m in k){k.hasOwnProperty(m)&&"function"===typeof k[m]&&(k[m]=e)}};bQ=function(k){k===b&&(k=!1);(ar||k)&&aM.disable(k)};bx=function(k){var m=null;if(k){if(k.match(/\.swf(\?.*)?$/i)){if(m=k.substr(k.toLowerCase().lastIndexOf(".swf?")+4)){return k}}else{k.lastIndexOf("/")!==k.length-1&&(k+="/")}}k=(k&&-1!==k.lastIndexOf("/")?k.substr(0,k.lastIndexOf("/")+1):"./")+aM.movieURL;aM.noSWFCache&&(k+="?ts\x3d"+(new Date).getTime());return k};bg=function(){aE=parseInt(aM.flashVersion,10);8!==aE&&9!==aE&&(aM._wD(az("badFV",aE,8)),aM.flashVersion=aE=8);var k=aM.debugMode||aM.debugFlash?"_debug.swf":".swf";aM.useHTML5Audio&&(!aM.html5Only&&aM.audioFormats.mp4.required&&9>aE)&&(aM._wD(az("needfl9")),aM.flashVersion=aE=9);aM.version=aM.versionNumber+(aM.html5Only?" (HTML5-only mode)":9===aE?" (AS3/Flash 9)":" (AS2/Flash 8)");8<aE?(aM.defaultOptions=bq(aM.defaultOptions,aM.flash9Options),aM.features.buffering=!0,aM.defaultOptions=bq(aM.defaultOptions,aM.movieStarOptions),aM.filePatterns.flash9=RegExp("\\.(mp3|"+x.join("|")+")(\\?.*)?$","i"),aM.features.movieStar=!0):aM.features.movieStar=!1;aM.filePattern=aM.filePatterns[8!==aE?"flash9":"flash8"];aM.movieURL=(8===aE?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",k);aM.features.peakData=aM.features.waveformData=aM.features.eqData=8<aE};g=function(k,m){if(!aG){return !1}aG._setPolling(k,m)};o=function(){aM.debugURLParam.test(aX)&&(aM.debugMode=!0);if(bs(aM.debugID)){return !1}var k,q,p,m;if(aM.debugMode&&!bs(aM.debugID)&&(!ah||!aM.useConsole||!aM.consoleOnly)){k=aF.createElement("div");k.id=aM.debugID+"-toggle";q={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001};k.appendChild(aF.createTextNode("-"));k.onclick=a2;k.title="Toggle SM2 debug console";ax.match(/msie 6/i)&&(k.style.position="absolute",k.style.cursor="hand");for(m in q){q.hasOwnProperty(m)&&(k.style[m]=q[m])}q=aF.createElement("div");q.id=aM.debugID;q.style.display=aM.debugMode?"block":"none";if(aM.debugMode&&!bs(k.id)){try{p=l(),p.appendChild(k)}catch(n){throw Error(az("domError")+" \n"+n.toString())}p.appendChild(q)}}};av=this.getSoundById;aB=function(k,m){return !k?"":aM._wD(az(k),m)};a2=function(){var k=bs(aM.debugID),m=bs(aM.debugID+"-toggle");if(!k){return !1}bv?(m.innerHTML="+",k.style.display="none"):(m.innerHTML="-",k.style.display="block");bv=!bv};bo=function(k,p,n){if(a.sm2Debugger!==b){try{sm2Debugger.handleEvent(k,p,n)}catch(m){return !1}}return !0};aY=function(){var k=[];aM.debugMode&&k.push("sm2_debug");aM.debugFlash&&k.push("flash_debug");aM.useHighPerformance&&k.push("high_performance");return k.join(" ")};bn=function(){var k=az("fbHandler"),n=aM.getMoviePercent(),m={type:"FLASHBLOCK"};if(aM.html5Only){return !1}aM.ok()?(aM.didFlashBlock&&aM._wD(k+": Unblocked"),aM.oMC&&(aM.oMC.className=[aY(),"movieContainer","swf_loaded"+(aM.didFlashBlock?" swf_unblocked":"")].join(" "))):(aw&&(aM.oMC.className=aY()+" movieContainer "+(null===n?"swf_timedout":"swf_error"),aM._wD(k+": "+az("fbTimeout")+(n?" ("+az("fbLoaded")+")":""))),aM.didFlashBlock=!0,a7({type:"ontimeout",ignoreInit:!0,error:m}),aZ(m))};bB=function(k,n,m){bk[k]===b&&(bk[k]=[]);bk[k].push({method:n,scope:m||null,fired:!1})};a7=function(k){k||(k={type:aM.ok()?"onready":"ontimeout"});if(!aA&&k&&!k.ignoreInit||"ontimeout"===k.type&&(aM.ok()||ar&&!k.ignoreInit)){return !1}var r={success:k&&k.ignoreInit?aM.ok():!ar},q=k&&k.type?bk[k.type]||[]:[],m=[],p,r=[r],n=aw&&!aM.ok();k.error&&(r[0].error=k.error);k=0;for(p=q.length;k<p;k++){!0!==q[k].fired&&m.push(q[k])}if(m.length){k=0;for(p=m.length;k<p;k++){m[k].scope?m[k].method.apply(m[k].scope,r):m[k].method.apply(this,r),n||(m[k].fired=!0)}}return !0};a3=function(){a.setTimeout(function(){aM.useFlashBlock&&bn();a7();"function"===typeof aM.onload&&(aB("onload",1),aM.onload.apply(a),aB("onloadOK",1));aM.waitForWindowLoad&&au.add(a,"load",a3)},1)};bT=function(){if(bh!==b){return bh}var n=!1,s=navigator,r=s.plugins,p,q=a.ActiveXObject;if(r&&r.length){(s=s.mimeTypes)&&(s["application/x-shockwave-flash"]&&s["application/x-shockwave-flash"].enabledPlugin&&s["application/x-shockwave-flash"].enabledPlugin.description)&&(n=!0)}else{if(q!==b&&!ax.match(/MSAppHost/i)){try{p=new q("ShockwaveFlash.ShockwaveFlash")}catch(k){p=null}n=!!p}}return bh=n};bL=function(){var k,n,m=aM.audioFormats;if(aD&&ax.match(/os (1|2|3_0|3_1)/i)){aM.hasHTML5=!1,aM.html5Only=!0,aM.oMC&&(aM.oMC.style.display="none")}else{if(aM.useHTML5Audio){if(!aM.html5||!aM.html5.canPlayType){aM._wD("SoundManager: No HTML5 Audio() support detected."),aM.hasHTML5=!1}aq&&aM._wD("soundManager: Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id\x3d32159 - "+(!bh?" would use flash fallback for MP3/MP4, but none detected.":"will use flash fallback for MP3/MP4, if available"),1)}}if(aM.useHTML5Audio&&aM.hasHTML5){for(n in z=!0,m){if(m.hasOwnProperty(n)&&m[n].required){if(aM.html5.canPlayType(m[n].type)){if(aM.preferFlash&&(aM.flash[n]||aM.flash[m[n].type])){k=!0}}else{z=!1,k=!0}}}}aM.ignoreFlash&&(k=!1,z=!0);aM.html5Only=aM.hasHTML5&&aM.useHTML5Audio&&!k;return !aM.html5Only};am=function(k){var p,n,m=0;if(k instanceof Array){p=0;for(n=k.length;p<n;p++){if(k[p] instanceof Object){if(aM.canPlayMIME(k[p].type)){m=p;break}}else{if(aM.canPlayURL(k[p])){m=p;break}}}k[m].url&&(k[m]=k[m].url);k=k[m]}return k};aC=function(k){k._hasTimer||(k._hasTimer=!0,!aQ&&aM.html5PollingInterval&&(null===by&&0===aL&&(by=setInterval(h,aM.html5PollingInterval)),aL++))};ag=function(k){k._hasTimer&&(k._hasTimer=!1,!aQ&&aM.html5PollingInterval&&aL--)};h=function(){var k;if(null!==by&&!aL){return clearInterval(by),by=null,!1}for(k=aM.soundIDs.length-1;0<=k;k--){aM.sounds[aM.soundIDs[k]].isHTML5&&aM.sounds[aM.soundIDs[k]]._hasTimer&&aM.sounds[aM.soundIDs[k]]._onTimer()}};aZ=function(k){k=k!==b?k:{};"function"===typeof aM.onerror&&aM.onerror.apply(a,[{type:k.type!==b?k.type:null}]);k.fatal!==b&&k.fatal&&aM.disable()};aH=function(){if(!aq||!bT()){return !1}var k=aM.audioFormats,n,m;for(m in k){if(k.hasOwnProperty(m)&&("mp3"===m||"mp4"===m)){if(aM._wD("soundManager: Using flash fallback for "+m+" format"),aM.html5[m]=!1,k[m]&&k[m].related){for(n=k[m].related.length-1;0<=n;n--){aM.html5[k[m].related[n]]=!1}}}}};this._setSandboxType=function(k){var m=aM.sandbox;m.type=k;m.description=m.types[m.types[k]!==b?k:"unknown"];"localWithFile"===m.type?(m.noRemote=!0,m.noLocal=!1,aB("secNote",2)):"localWithNetwork"===m.type?(m.noRemote=!1,m.noLocal=!0):"localTrusted"===m.type&&(m.noRemote=!1,m.noLocal=!1)};this._externalInterfaceOK=function(k){if(aM.swfLoaded){return !1}var m;bo("swf",!0);bo("flashtojs",!0);aM.swfLoaded=!0;ap=!1;aq&&aH();if(!k||k.replace(/\+dev/i,"")!==aM.versionNumber.replace(/\+dev/i,"")){return m='soundManager: Fatal: JavaScript file build "'+aM.versionNumber+'" does not match Flash SWF build "'+k+'" at '+aM.url+". Ensure both are up-to-date.",setTimeout(function(){throw Error(m)},0),!1}setTimeout(bJ,a8?100:1)};bP=function(E,C){function B(){var n=[],k,p=[];k="SoundManager "+aM.version+(!aM.html5Only&&aM.useHTML5Audio?aM.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"");aM.html5Only?aM.html5PollingInterval&&n.push("html5PollingInterval ("+aM.html5PollingInterval+"ms)"):(aM.preferFlash&&n.push("preferFlash"),aM.useHighPerformance&&n.push("useHighPerformance"),aM.flashPollingInterval&&n.push("flashPollingInterval ("+aM.flashPollingInterval+"ms)"),aM.html5PollingInterval&&n.push("html5PollingInterval ("+aM.html5PollingInterval+"ms)"),aM.wmode&&n.push("wmode ("+aM.wmode+")"),aM.debugFlash&&n.push("debugFlash"),aM.useFlashBlock&&n.push("flashBlock"));n.length&&(p=p.concat([n.join(" + ")]));aM._wD(k+(p.length?" + "+p.join(", "):""),1);ai()}function F(n,k){return'\x3cparam name\x3d"'+n+'" value\x3d"'+k+'" /\x3e'}if(aW&&aV){return !1}if(aM.html5Only){return bg(),B(),aM.oMC=bs(aM.movieID),bJ(),aV=aW=!0,!1}var A=C||aM.url,y=aM.altURL||A,w=l(),v=aY(),t=null,t=aF.getElementsByTagName("html")[0],r,H,m,t=t&&t.dir&&t.dir.match(/rtl/i);E=E===b?aM.id:E;bg();aM.url=bx(i?A:y);C=aM.url;aM.wmode=!aM.wmode&&aM.useHighPerformance?"transparent":aM.wmode;if(null!==aM.wmode&&(ax.match(/msie 8/i)||!a8&&!aM.useHighPerformance)&&navigator.platform.match(/win32|win64/i)){a6.push(bf.spcWmode),aM.wmode=null}w={name:E,id:E,src:C,quality:"high",allowScriptAccess:aM.allowScriptAccess,bgcolor:aM.bgColor,pluginspage:aK+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:aM.wmode,hasPriority:"true"};aM.debugFlash&&(w.FlashVars="debug\x3d1");aM.wmode||delete w.wmode;if(a8){A=aF.createElement("div"),H=['\x3cobject id\x3d"'+E+'" data\x3d"'+C+'" type\x3d"'+w.type+'" title\x3d"'+w.title+'" classid\x3d"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase\x3d"'+aK+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version\x3d6,0,40,0"\x3e',F("movie",C),F("AllowScriptAccess",aM.allowScriptAccess),F("quality",w.quality),aM.wmode?F("wmode",aM.wmode):"",F("bgcolor",aM.bgColor),F("hasPriority","true"),aM.debugFlash?F("FlashVars",w.FlashVars):"","\x3c/object\x3e"].join("")}else{for(r in A=aF.createElement("embed"),w){w.hasOwnProperty(r)&&A.setAttribute(r,w[r])}}o();v=aY();if(w=l()){if(aM.oMC=bs(aM.movieID)||aF.createElement("div"),aM.oMC.id){m=aM.oMC.className,aM.oMC.className=(m?m+" ":"movieContainer")+(v?" "+v:""),aM.oMC.appendChild(A),a8&&(r=aM.oMC.appendChild(aF.createElement("div")),r.className="sm2-object-box",r.innerHTML=H),aV=!0}else{aM.oMC.id=aM.movieID;aM.oMC.className="movieContainer "+v;r=v=null;aM.useFlashBlock||(aM.useHighPerformance?v={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(v={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},t&&(v.left=Math.abs(parseInt(v.left,10))+"px")));br&&(aM.oMC.style.zIndex=10000);if(!aM.debugFlash){for(m in v){v.hasOwnProperty(m)&&(aM.oMC.style[m]=v[m])}}try{a8||aM.oMC.appendChild(A),w.appendChild(aM.oMC),a8&&(r=aM.oMC.appendChild(aF.createElement("div")),r.className="sm2-object-box",r.innerHTML=H),aV=!0}catch(G){throw Error(az("domError")+" \n"+G.toString())}}}aW=!0;B();return !0};aj=function(){if(aM.html5Only){return bP(),!1}if(aG){return !1}if(!aM.url){return aB("noURL"),!1}aG=aM.getMovie(aM.id);aG||(aR?(a8?aM.oMC.innerHTML=bE:aM.oMC.appendChild(aR),aR=null,aW=!0):bP(aM.id,aM.url),aG=aM.getMovie(aM.id));"function"===typeof aM.oninitmovie&&setTimeout(aM.oninitmovie,1);bI();return !0};a1=function(){setTimeout(af,1000)};af=function(){var k,m=!1;if(!aM.url||bF){return !1}bF=!0;au.remove(a,"load",a1);if(ap&&!ae){return aB("waitFocus"),!1}aA||(k=aM.getMoviePercent(),0<k&&100>k&&(m=!0));setTimeout(function(){k=aM.getMoviePercent();if(m){return bF=!1,aM._wD(az("waitSWF")),a.setTimeout(a1,1),!1}aA||(aM._wD("soundManager: No Flash response within expected time. Likely causes: "+(0===k?"SWF load failed, ":"")+"Flash blocked or JS-Flash security error."+(aM.debugFlash?" "+az("checkSWF"):""),2),!i&&k&&(aB("localFail",2),aM.debugFlash||aB("tryDebug",2)),0===k&&aM._wD(az("swf404",aM.url),1),bo("flashtojs",!1,": Timed out"+i?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)"));!aA&&bC&&(null===k?aM.useFlashBlock||0===aM.flashLoadTimeout?(aM.useFlashBlock&&bn(),aB("waitForever")):!aM.useFlashBlock&&z?a.setTimeout(function(){bd("soundManager: useFlashBlock is false, 100% HTML5 mode is possible. Rebooting with preferFlash: false...");aM.setup({preferFlash:!1}).reboot();aM.didFlashBlock=!0;aM.beginDelayedInit()},1):(aB("waitForever"),a7({type:"ontimeout",ignoreInit:!0})):0===aM.flashLoadTimeout?aB("waitForever"):bQ(!0))},aM.flashLoadTimeout)};aI=function(){if(ae||!ap){return au.remove(a,"focus",aI),!0}ae=bC=!0;aB("gotFocus");bF=!1;a1();au.remove(a,"focus",aI);return !0};bI=function(){a6.length&&(aM._wD("SoundManager 2: "+a6.join(" "),1),a6=[])};ai=function(){bI();var k,m=[];if(aM.useHTML5Audio&&aM.hasHTML5){for(k in aM.audioFormats){aM.audioFormats.hasOwnProperty(k)&&m.push(k+" \x3d "+aM.html5[k]+(!aM.html5[k]&&aw&&aM.flash[k]?" (using flash)":aM.preferFlash&&aM.flash[k]&&aw?" (preferring flash)":!aM.html5[k]?" ("+(aM.audioFormats[k].required?"required, ":"")+"and no flash support)":""))}aM._wD("SoundManager 2 HTML5 support: "+m.join(", "),1)}};aU=function(k){if(aA){return !1}if(aM.html5Only){return aB("sm2Loaded"),aA=!0,a3(),bo("onload",!0),!0}var n=!0,m;if(!aM.useFlashBlock||!aM.flashLoadTimeout||aM.getMoviePercent()){aA=!0,ar&&(m={type:!bh&&aw?"NO_FLASH":"INIT_TIMEOUT"})}aM._wD("SoundManager 2 "+(ar?"failed to load":"loaded")+" ("+(ar?"Flash security/load error":"OK")+")",ar?2:1);ar||k?(aM.useFlashBlock&&aM.oMC&&(aM.oMC.className=aY()+" "+(null===aM.getMoviePercent()?"swf_timedout":"swf_error")),a7({type:"ontimeout",error:m,ignoreInit:!0}),bo("onload",!1),aZ(m),n=!1):bo("onload",!0);ar||(aM.waitForWindowLoad&&!be?(aB("waitOnload"),au.add(a,"load",a3)):(aM.waitForWindowLoad&&be&&aB("docLoaded"),a3()));return n};at=function(){var k,m=aM.setupOptions;for(k in m){m.hasOwnProperty(k)&&(aM[k]===b?aM[k]=m[k]:aM[k]!==m[k]&&(aM.setupOptions[k]=aM[k]))}};bJ=function(){if(aA){return aB("didInit"),!1}if(aM.html5Only){return aA||(au.remove(a,"load",aM.beginDelayedInit),aM.enabled=!0,aU()),!0}aj();try{aG._externalInterfaceTest(!1),g(!0,aM.flashPollingInterval||(aM.useHighPerformance?10:50)),aM.debugMode||aG._disableDebug(),aM.enabled=!0,bo("jstoflash",!0),aM.html5Only||au.add(a,"unload",e)}catch(k){return aM._wD("js/flash exception: "+k.toString()),bo("jstoflash",!1),aZ({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),bQ(!0),aU(),!1}aU();au.remove(a,"load",aM.beginDelayedInit);return !0};a0=function(){if(aT){return !1}aT=!0;at();o();var k=null,k=null,m=aX.toLowerCase();-1!==m.indexOf("sm2-usehtml5audio\x3d")&&(k="1"===m.charAt(m.indexOf("sm2-usehtml5audio\x3d")+18),ah&&console.log((k?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),aM.setup({useHTML5Audio:k}));-1!==m.indexOf("sm2-preferflash\x3d")&&(k="1"===m.charAt(m.indexOf("sm2-preferflash\x3d")+16),ah&&console.log((k?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),aM.setup({preferFlash:k}));!bh&&aM.hasHTML5&&(aM._wD("SoundManager: No Flash detected"+(!aM.useHTML5Audio?", enabling HTML5.":". Trying HTML5-only mode."),1),aM.setup({useHTML5Audio:!0,preferFlash:!1}));bz();!bh&&aw&&(a6.push(bf.needFlash),aM.setup({flashLoadTimeout:1}));aF.removeEventListener&&aF.removeEventListener("DOMContentLoaded",a0,!1);aj();return !0};an=function(){"complete"===aF.readyState&&(a0(),aF.detachEvent("onreadystatechange",an));return !0};ak=function(){be=!0;au.remove(a,"load",ak)};aJ=function(){if(aQ&&((!aM.setupOptions.useHTML5Audio||aM.setupOptions.preferFlash)&&a6.push(bf.mobileUA),aM.setupOptions.useHTML5Audio=!0,aM.setupOptions.preferFlash=!1,aD||bO&&!ax.match(/android\s2\.3/i))){a6.push(bf.globalHTML5),aD&&(aM.ignoreFlash=!0),bl=!0}};aJ();bT();au.add(a,"focus",aI);au.add(a,"load",a1);au.add(a,"load",ak);aF.addEventListener?aF.addEventListener("DOMContentLoaded",a0,!1):aF.attachEvent?aF.attachEvent("onreadystatechange",an):(bo("onload",!1),aZ({type:"NO_DOM2_EVENTS",fatal:!0}))}var d=null;if(void 0===a.SM2_DEFER||!SM2_DEFER){d=new c}a.SoundManager=c;a.soundManager=d})(window);