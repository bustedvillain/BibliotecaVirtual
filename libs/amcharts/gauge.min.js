AmCharts.GaugeAxis=AmCharts.Class({construct:function(b){this.cname="GaugeAxis";this.radius="95%";this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.gridCount=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=10;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topTextYOffset=0;this.topTextBold=!0;this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;AmCharts.applyTheme(this,b,"GaugeAxis")},value2angle:function(b){return(b-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(f){if(void 0!==f){this.topText=f;var e=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var h=this.topTextFontSize;h||(h=e.fontSize);var g=this.topTextColor;g||(g=e.color);f=AmCharts.text(e.container,f,g,e.fontFamily,h,void 0,this.topTextBold);f.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.chart.graphsSet.push(f);this.topTF=f}}},setBottomText:function(f){if(void 0!==f){this.bottomText=f;var e=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var h=this.bottomTextFontSize;h||(h=e.fontSize);var g=this.bottomTextColor;g||(g=e.color);f=AmCharts.text(e.container,f,g,e.fontFamily,h,void 0,this.bottomTextBold);f.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=f;this.chart.graphsSet.push(f)}}},draw:function(){var ap=this.chart,ao=ap.graphsSet,an=this.startValue,am=this.endValue,ak=this.valueInterval;isNaN(ak)&&(ak=(am-an)/this.gridCount);var ai=this.minorTickInterval;isNaN(ai)&&(ai=ak/5);var ad=this.startAngle,ah=this.endAngle,al=this.tickLength,ag=(am-an)/ak+1,aj=(ah-ad)/(ag-1);this.singleValueAngle=am=aj/ak;var af=ap.container,ab=this.tickColor,T=this.tickAlpha,Z=this.tickThickness,X=ak/ai,R=aj/X,ai=this.minorTickLength,N=this.labelFrequency,W=this.radiusReal;this.inside||(W-=15);var L=ap.centerX+AmCharts.toCoordinate(this.centerX,ap.realWidth),j=ap.centerY+AmCharts.toCoordinate(this.centerY,ap.realHeight);this.centerXReal=L;this.centerYReal=j;var o={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},ae,ac;this.gridInside?ac=ae=W:(ae=W-al,ac=ae+ai);var Y=this.axisThickness/2,ah=AmCharts.wedge(af,L,j,ad,ah-ad,ae+Y,ae+Y,ae-Y,0,o);ao.push(ah);ah=AmCharts.doNothing;AmCharts.isModern||(ah=Math.round);o=AmCharts.getDecimals(ak);for(ae=0;ae<ag;ae++){var Q=an+ae*ak,Y=ad+ae*aj,P=ah(L+W*Math.sin(Y/180*Math.PI)),aa=ah(j-W*Math.cos(Y/180*Math.PI)),M=ah(L+(W-al)*Math.sin(Y/180*Math.PI)),V=ah(j-(W-al)*Math.cos(Y/180*Math.PI)),P=AmCharts.line(af,[P,M],[aa,V],ab,T,Z,0,!1,!1,!0);ao.push(P);P=-1;M=this.labelOffset;this.inside||(M=-M-al,P=1);var aa=Math.sin(Y/180*Math.PI),V=Math.cos(Y/180*Math.PI),aa=L+(W-al-M)*aa,M=j-(W-al-M)*V,U=this.fontSize;isNaN(U)&&(U=ap.fontSize);var V=Math.sin((Y-90)/180*Math.PI),i=Math.cos((Y-90)/180*Math.PI);if(0<N&&ae/N==Math.round(ae/N)&&(this.showLastLabel||ae!=ag-1)&&(this.showFirstLabel||0!==ae)){var S;S=this.usePrefixes?AmCharts.addPrefix(Q,ap.prefixesOfBigNumbers,ap.prefixesOfSmallNumbers,ap.nf,!0):AmCharts.formatNumber(Q,ap.nf,o);var O=this.unit;O&&(S="left"==this.unitPosition?O+S:S+O);(O=this.labelFunction)&&(S=O(Q));Q=AmCharts.text(af,S,ap.color,ap.fontFamily,U);U=Q.getBBox();Q.translate(aa+P*U.width/2*i,M+P*U.height/2*V);ao.push(Q)}if(ae<ag-1){for(Q=1;Q<X;Q++){V=Y+R*Q,P=ah(L+ac*Math.sin(V/180*Math.PI)),aa=ah(j-ac*Math.cos(V/180*Math.PI)),M=ah(L+(ac-ai)*Math.sin(V/180*Math.PI)),V=ah(j-(ac-ai)*Math.cos(V/180*Math.PI)),P=AmCharts.line(af,[P,M],[aa,V],ab,T,Z,0,!1,!1,!0),ao.push(P)}}}if(ao=this.bands){for(an=0;an<ao.length;an++){if(ak=ao[an]){ab=ak.startValue,T=ak.endValue,al=AmCharts.toCoordinate(ak.radius,W),isNaN(al)&&(al=ac),ag=AmCharts.toCoordinate(ak.innerRadius,W),isNaN(ag)&&(ag=al-ai),aj=ad+am*(ab-this.startValue),T=am*(T-ab),Z=ak.outlineColor,void 0==Z&&(Z=this.bandOutlineColor),X=ak.outlineThickness,isNaN(X)&&(X=this.bandOutlineThickness),R=ak.outlineAlpha,isNaN(R)&&(R=this.bandOutlineAlpha),ab=ak.alpha,isNaN(ab)&&(ab=this.bandAlpha),al=AmCharts.wedge(af,L,j,aj,T,al,al,ag,0,{fill:ak.color,stroke:Z,"stroke-width":X,"stroke-opacity":R}),al.setAttr("opacity",ab),ap.gridSet.push(al),this.addEventListeners(al,ak)}}}this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);ap=ap.graphsSet.getBBox();this.width=ap.width;this.height=ap.height},addEventListeners:function(e,d){var f=this.chart;e.mouseover(function(b){f.showBalloon(d.balloonText,d.color,!0)}).mouseout(function(b){f.hideBalloon()})}});AmCharts.GaugeArrow=AmCharts.Class({construct:function(b){this.cname="GaugeArrow";this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.endWidth=0;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;AmCharts.applyTheme(this,b,"GaugeArrow")},setValue:function(d){var c=this.chart;c?c.setValue?c.setValue(this,d):this.previousValue=this.value=d:this.previousValue=this.value=d}});AmCharts.GaugeBand=AmCharts.Class({construct:function(){this.cname="GaugeBand"}});AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(b){this.cname="AmAngularGauge";AmCharts.AmAngularGauge.base.construct.call(this,b);this.theme=b;this.type="gauge";this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect="easeOutSine";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;AmCharts.applyTheme(this,b,this.cname)},addAxis:function(b){this.axes.push(b)},formatString:function(d,c){return d=AmCharts.formatValue(d,c,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);var f;0===this.axes.length&&(f=new AmCharts.GaugeAxis(this.theme),this.addAxis(f));var e;for(e=0;e<this.axes.length;e++){f=this.axes[e],f=AmCharts.processObject(f,AmCharts.GaugeAxis,this.theme),f.chart=this,this.axes[e]=f}var h=this.arrows;for(e=0;e<h.length;e++){f=h[e];f=AmCharts.processObject(f,AmCharts.GaugeArrow,this.theme);f.chart=this;h[e]=f;var g=f.axis;AmCharts.isString(g)&&(f.axis=AmCharts.getObjById(this.axes,g));f.axis||(f.axis=this.axes[0]);isNaN(f.value)&&f.setValue(f.axis.startValue);isNaN(f.previousValue)&&(f.previousValue=f.axis.startValue)}this.setLegendData(h);this.drawChart();this.totalFrames=1000*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var v=this.container,u=this.updateWidth();this.realWidth=u;var t=this.updateHeight();this.realHeight=t;var s=AmCharts.toCoordinate,q=s(this.marginLeft,u),n=s(this.marginRight,u),i=s(this.marginTop,t)+this.getTitleHeight(),m=s(this.marginBottom,t),r=s(this.radius,u,t),s=u-q-n,j=t-i-m+this.extraHeight;r||(r=Math.min(s,j)/2);r<this.minRadius&&(r=this.minRadius);this.radiusReal=r;this.centerX=(u-q-n)/2+q;this.centerY=(t-i-m)/2+i+this.extraHeight/2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var u=this.faceAlpha,t=this.faceBorderAlpha,o;if(0<u||0<t){o=AmCharts.circle(v,r,this.faceColor,u,this.faceBorderWidth,this.faceBorderColor,t,!1),o.translate(this.centerX,this.centerY),o.toBack(),(v=this.facePattern)&&o.pattern(v)}for(u=r=v=0;u<this.axes.length;u++){t=this.axes[u],q=t.radius,t.radiusReal=AmCharts.toCoordinate(q,this.radiusReal),t.draw(),n=1,-1!==String(q).indexOf("%")&&(n=1+(100-Number(q.substr(0,q.length-1)))/100),t.width*n>v&&(v=t.width*n),t.height*n>r&&(r=t.height*n)}(u=this.legend)&&u.invalidateSize();if(this.adjustSize&&!this.chartCreated){o&&(o=o.getBBox(),o.width>v&&(v=o.width),o.height>r&&(r=o.height));o=0;if(j>r||s>v){o=Math.min(j-r,s-v)}0<o&&(this.extraHeight=j-r,this.chartCreated=!0,this.validateNow())}this.dispDUpd();this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=!1;AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(b){this.arrows.push(b)},removeArrow:function(b){AmCharts.removeFromArray(this.arrows,b);this.validateNow()},removeAxis:function(b){AmCharts.removeFromArray(this.axes,b);this.validateNow()},drawArrow:function(A,z){A.set&&A.set.remove();var y=this.container;A.set=y.set();if(!A.hidden){var x=A.axis,v=x.radiusReal,s=x.centerXReal,j=x.centerYReal,r=A.startWidth,w=A.endWidth,o=AmCharts.toCoordinate(A.innerRadius,x.radiusReal),t=AmCharts.toCoordinate(A.radius,x.radiusReal);x.inside||(t-=15);var n=A.nailColor;n||(n=A.color);var i=A.nailColor;i||(i=A.color);n=AmCharts.circle(y,A.nailRadius,n,A.nailAlpha,A.nailBorderThickness,n,A.nailBorderAlpha);A.set.push(n);n.translate(s,j);isNaN(t)&&(t=v-x.tickLength);var x=Math.sin(z/180*Math.PI),v=Math.cos(z/180*Math.PI),n=Math.sin((z+90)/180*Math.PI),B=Math.cos((z+90)/180*Math.PI),y=AmCharts.polygon(y,[s-r/2*n+o*x,s+t*x-w/2*n,s+t*x+w/2*n,s+r/2*n+o*x],[j+r/2*B-o*v,j-t*v+w/2*B,j-t*v-w/2*B,j-r/2*B-o*v],A.color,A.alpha,1,i,A.borderAlpha,void 0,!0);A.set.push(y);this.graphsSet.push(A.set)}},setValue:function(e,d){e.axis&&e.axis.value2angle&&(e.axis.value2angle(d),e.frame=0,e.previousValue=e.value);e.value=d;var f=this.legend;f&&f.updateValues()},handleLegendEvent:function(d){var c=d.type;d=d.dataItem;if(!this.legend.data&&d){switch(c){case"hideItem":this.hideArrow(d);break;case"showItem":this.showArrow(d)}}},hideArrow:function(b){b.set.hide();b.hidden=!0},showArrow:function(b){b.set.show();b.hidden=!1},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var f=this.arrows.length,e,h=0;h<f;h++){e=this.arrows[h];var g;e.frame>=this.totalFrames?g=e.value:(e.frame++,e.clockWiseOnly&&e.value<e.previousValue&&(g=e.axis,e.previousValue-=g.endValue-g.startValue),g=AmCharts.getEffect(this.startEffect),g=AmCharts[g](0,e.frame,e.previousValue,e.value-e.previousValue,this.totalFrames),isNaN(g)&&(g=e.value));g=e.axis.value2angle(g);this.drawArrow(e,g)}}});